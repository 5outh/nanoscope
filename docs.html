<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>Nanoscope - Getting Started</title>

    <!-- Bootstrap core CSS -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
    <!-- Bootstrap theme -->
    <link href="bower_components/bootstrap/dist/css/bootstrap-theme.css" rel="stylesheet">
    <link href="bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/theme.css" rel="stylesheet">

    <!-- Set up highlight.js-->
    <link rel="stylesheet" href="bower_components/highlightjs/styles/tomorrow-night-eighties.css">
    <script src="bower_components/highlightjs/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:500' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style type="text/css" media="screen">
        #editor {
            width: 100%;
            height: 100%
        }
    </style>

</head>

<body role="document">

<!-- Fixed navbar -->
<nav class="navbar navbar-fixed-top top">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html"><img src="img/NanoscopeLogo.png" style="height:120%"/></a>
            <a class="navbar-brand" href="getting-started.html">Getting Started</a>
            <a class="navbar-brand" href="docs.html">API Documentation</a>
        </div>
        <ul class="nav navbar-nav navbar-right">
            <li style="margin-top: 16px">
                <iframe src="https://ghbtns.com/github-btn.html?user=5outh&repo=nanoscope&type=star&count=true&size=small" scrolling="0" frameborder="0" width="160px" height="30px"></iframe>
            </li>
        </ul>
    </div><!--/.container-fluid -->
</nav>

<div class="container theme-showcase" role="main">

    <!-- Main jumbotron for a primary marketing message or call to action -->
<div class="jumbotron nanoscope-banner">
    <!-- Github Banner -->
    <div style="position: absolute; top: 0; right: 0; border: 0;">
        <a href="https://github.com/5outh/nanoscope"><img src="https://camo.githubusercontent.com/52760788cde945287fbb584134c4cbc2bc36f904/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"></a>
    </div>
    <img src="./img/NanoscopeLogo-White.png" width="75%" class="center-block"/>
    <h3 class="text-center white scp subtitle">API Documentation</h3>
</div>

<div class="api">
    <div class="page-header">
        <h1 class="scp text-center">
            Overview
        </h1>
    </div>
    <div class="api-table center-block">
        <div class="row">
            <div class="col-md-12">
                <div class="center-block" style="width:80%">
                    <table>
  <thead>
    <tr>
      <th>Top-level (chainable) functions</th>
      <th>Final functions</th>
      <th>Other</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="#filter"><code>filter</code></a> (alias: <code>filtering</code>)</td>
      <td><a href="#get"><code>get</code></a></td>
      <td><a href="#then"><code>then</code></a></td>
    </tr>
    <tr>
      <td><a href="#index"><code>index</code></a> (alias: <code>indexing</code>)</td>
      <td><a href="#set"><code>set</code></a></td>
      <td><a href="#catch"><code>catch</code></a></td>
    </tr>
    <tr>
      <td><a href="#unsafeIndex"><code>unsafeIndex</code></a> (alias: <code>unsafelyIndexing</code>)</td>
      <td><a href="#map"><code>map</code></a></td>
      <td><a href="#mixin"><code>mixin</code></a></td>
    </tr>
    <tr>
      <td><a href="#slice"><code>slice</code></a> (alias: <code>slicing</code>)</td>
      <td> </td>
      <td><a href="#setter"><code>setter</code></a></td>
    </tr>
    <tr>
      <td><a href="#path"><code>path</code></a> (alias: <code>following</code>)</td>
      <td> </td>
      <td><a href="#getter"><code>getter</code></a></td>
    </tr>
    <tr>
      <td><a href="#pluck"><code>pluck</code></a> (alias: <code>plucking</code>)</td>
      <td> </td>
      <td><a href="#and"><code>and</code></a></td>
    </tr>
    <tr>
      <td><a href="#recursivePluck"><code>recursivePluck</code></a> (alias: <code>recursivelyPlucking</code>)</td>
      <td> </td>
      <td><a href="#or"><code>or</code></a></td>
    </tr>
    <tr>
      <td><a href="#each"><code>each</code></a></td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="#own"><code>own</code></a></td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="#setting"><code>setting</code></a></td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="#mapping"><code>mapping</code></a></td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

                </div>
            </div>
        </div>
    </div>

    <div class="page-header">
        <h2 class="scp text-center">Top-level functions</h2>
    </div>

    <div class="api-function">
    <h3 class="function-name text-center" id="filter"><a href="#filter">filter</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Focus on elements of an array filtered by a regular expression or function.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">nanoscope([1, 2, 3]).filter(function (elem) {
    return (elem % 2 === 0);
}).set(100);

nanoscope([&#x27;a&#x27;, &#x27;B&#x27;, &#x27;C&#x27;]).filter(/[a-z]/).get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> [1, 100, 3]
<i class="fa fa-terminal"></i> [&#x27;a&#x27;]</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="index"><a href="#index">index</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Focus on the element of an array at a given index. Returns undefined if the index is out of bounds.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">nanoscope([1, 2, 3]).index(0).map(function (num) {
    return (num + 100);
});</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> [101, 2, 3]</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="unsafeIndex"><a href="#unsafeIndex">unsafeIndex</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Same as index, but throws errors if trying to access an element outside of array bounds. Allows setting the element directly after the end of an array (arr[arr.length]).</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">nanoscope([1, 2, 3]).unsafeIndex(0).get();

nanoscope([]).unsafeIndex(0).get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> 1
<i class="fa fa-terminal"></i> Error: Attempt to access invalid index 0</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="slice"><a href="#slice">slice</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Focus on a slice of an array. A slice can be specified using either start and end bounds (negative bounds count from the end of an array) or by a string in python-style syntax (i.e &#x27;1:10&#x27;).</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">nanoscope([1, 2, 3]).slice(&#x27;1:&#x27;).get();

nanoscope([1, 2, 3]).slice(0, -1).set([5, 4]);</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> [2, 3]
<i class="fa fa-terminal"></i> [5, 4, 3]</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="path"><a href="#path">path</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Focus on the value located at some path in an object. Paths are given by .-separated strings. If the value at a path doesn&#x27;t exist (i.e. accessing {}.a.b), get() will return undefined, even if it would otherwise throw an error. set() will set the value, adding properties as necessary. map() will do the same, but if its output returns undefined, the structure will be unmodified. Note that setting values that don&#x27;t exist can overwrite parent objects (see the final example).</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">var obj = {
    a: {
        b: &#x27;flintstones&#x27;
    }
}, lens = nanoscope(obj);

nanoscope.path(&#x27;a.b&#x27;).get();

nanoscope.path(&#x27;a.b.c.d&#x27;).get();

nanoscope.path(&#x27;a.b.c.d&#x27;).set(&#x27;vitamins&#x27;);</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> &#x27;flintstones&#x27;
<i class="fa fa-terminal"></i> undefined
<i class="fa fa-terminal"></i> { a: { b: { c: { d: &#x27;vitamins&#x27; } } } }</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="unsafePath"><a href="#unsafePath">unsafePath</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">The same as path, but does not attempt to catch errors and will instead throw them.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">nanoscope({}).path(&#x27;a.b&#x27;).get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> Error: Cannot read property &#x27;b&#x27; of undefined</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="pluck"><a href="#pluck">pluck</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Focus on a set of properties in an object matching one of:

* an array of properties (e.g. [&#x27;a&#x27;, &#x27;b&#x27;]),
* a regular expression (e.g /[a-b]/)
* or a function (e.g function (prop) { return prop.match(/[a-b]/); }
Note that this does not recurse into subobjects, and only operates on the top-level properties.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">var lens = nanoscope({
    &#x27;abc&#x27; : 1,
    &#x27;def&#x27; : 2,
    &#x27;WAT&#x27; : null
});

lens.pluck([&#x27;abc&#x27;]).get();

lens.pluck(/[a-d]*/).get();

lens.pluck(function (prop, val) {
    return !val;
}).set(&#x27;unknown&#x27;);</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> { &#x27;abc&#x27;: 1 }
<i class="fa fa-terminal"></i> { &#x27;abc&#x27;: 1, &#x27;def&#x27;: 2 }
<i class="fa fa-terminal"></i> { &#x27;abc&#x27;: 1, &#x27;def&#x27;: 2, &#x27;WAT&#x27;: &#x27;unknown&#x27; }</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="recursivePluck"><a href="#recursivePluck">recursivePluck</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">The same as pluck, but recurses into subobjects.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">var lens = nanoscope({
    a: { b: 100, C: 99 }
});

lens.pluck(/[a-z]/).get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> { a: { b: 100 } }</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="each"><a href="#each">each</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Focus on every element of an array and further process it.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">nanoscope({
    locations: [{x: 100, y: 200}, {x: 10, y: 0}]
}).path(&#x27;locations&#x27;)
  .each(function (loc) {
      return loc.path(&#x27;x&#x27;);
  }).get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> [100, 10]</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="own"><a href="#own">own</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Focus on every value of an object and further process it.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">nanoscope({
    x: [100],
    y: [200]
}).own(function (val) {
    return val.index(0);
}).get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> [100, 10]</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="setting"><a href="#setting">setting</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Set the focus of a lens to a new value and return a new lens focusing on the modified object.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">var coordinate = { x: 2, y: 4 };

coordinate.path(&#x27;x&#x27;).setting(200).get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> 200</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="mapping"><a href="#mapping">mapping</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Map a function over the focus of a lens to a new value and return a new lens focusing on the modified object.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">var coordinate = { x: 2, y: 4 },
    square = function (val) { return val * val; };

coordinate.path(&#x27;y&#x27;).mapping(square).get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> 16</code>
            </pre>
        </div>
    </div>
</div>


    <div class="page-header">
        <h2 class="scp text-center">Final functions</h2>
    </div>

    <div class="api-function">
    <h3 class="function-name text-center" id="get"><a href="#get">get</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Get the value at the focus of the lens and return it.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">var lens = nanoscope([1, 2, 3]).index(2);

lens.get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> 3</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="set"><a href="#set">set</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Set the value at the focus of the lens and return a modified structure.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">var lens = nanoscope.index([1, 2, 3]).index(2);

lens.set(100);</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> [1, 2, 100]</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="map"><a href="#map">map</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Map the value at the focus of the lens to something else using a function and return a modified structure.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">var lens = nanoscope.index([1, 2, 3]).index(2);

lens.map(function (num) {
    return (num * num);
});</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> [1, 2, 9]</code>
            </pre>
        </div>
    </div>
</div>


    <div class="page-header">
        <h2 class="scp text-center">Other</h2>
    </div>

    <div class="api-function">
    <h3 class="function-name text-center" id="then"><a href="#then">then</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Alias for the current lens that (kind of) improves readability.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">nanoscope([{ a: { b: 10 } }]).index(0).then.path(&#x27;a.b&#x27;).get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> 10</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="catch"><a href="#catch">catch</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Catch any exceptions thrown from an unsafe lens and handle them with an error handler</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">var lens = nanoscope([]).unsafeIndex(10000).catch(console.log);

lens.get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> [Error: Attempt to access invalid index 10000]</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="mixin"><a href="#mixin">mixin</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Add a function to &#x60;nanoscope&#x60;. The &#x60;this&#x60; context in the lens passed in will be replaced with the
current nanoscope context when it is called. Any function like this should return a new Lens (i.e. use
only the existing chainable nanoscope functions) or terminate with one of the final functions.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">var within = function (target, alpha) {
    return this.filtering(function (elem) {
        return (target - alpha) &lt; elem  &amp;&amp; elem &lt; (target + alpha);
    });
};

nanoscope.mixin({within: within});

nanoscope([10, 2.5, 3]).within(3.5, 1.5).get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> [2.5, 3.5]</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="setter"><a href="#setter">setter</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Disallow get in a Lens. Typically called at the end of Lens construction because internal functions rely on get occasionally.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">var lens = nanoscope({ a: 100 }).path(&#x27;a&#x27;).setter();

lens.set(30);

lens.get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> { a: 30 }
<i class="fa fa-terminal"></i> Error: get not permitted in a Setter</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="getter"><a href="#getter">getter</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Disallow set and map in a Lens. Typically called at the end of Lens construction because internal functions rely on set and map occasionally.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">var lens = nanoscope([1]).index(0).getter();

lens.get();

lens.set(100);</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> 1
<i class="fa fa-terminal"></i> Error: map not permitted in a Getter</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="and"><a href="#and">and</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Add a view to a lens and focus on both of their foci if and only if both exist.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">var foobar = {foo: 1, bar: 2},
    lens = nanoscope(foobar),
    conjunctiveLens = lens.path(&#x27;foo&#x27;).and(lens.path(&#x27;bar&#x27;));

conjunctiveLens.get();

conjunctiveLens = lens.path(&#x27;foo&#x27;).and(lens.path(&#x27;baz&#x27;));

conjunctiveLens.get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> [1, 2]
<i class="fa fa-terminal"></i> null</code>
            </pre>
        </div>
    </div>
</div>
<div class="api-function">
    <h3 class="function-name text-center" id="or"><a href="#or">or</a></h3>
    <div class="row">
        <div class="col-md-6">
            <p class="describe">Add a view to a lens and focus on the first one that exists.</p>
        </div>
        <div class="col-md-6">
            <pre>
                <code class="js">var foobar = {foo: 1, bar: 2},
    lens = nanoscope(foobar),
    conjunctiveLens = lens.path(&#x27;foo&#x27;).or(lens.path(&#x27;bar&#x27;));

conjunctiveLens.get();

conjunctiveLens = lens.path(&#x27;baz&#x27;).or(lens.path(&#x27;bar&#x27;));

conjunctiveLens.get();</code>
            </pre>
            <pre class="out">
                <code class="bash"><i class="fa fa-terminal"></i> 1
<i class="fa fa-terminal"></i> 2</code>
            </pre>
        </div>
    </div>
</div>


</div>

    <div id="footer" class="container">
    <nav class="navbar navbar-default navbar-fixed-bottom">
        <div class="navbar-inner navbar-content-center center-block text-center">
            <p class="copyright"><a href="https://twitter.com/BendotK">Copyright © 2015 Benjamin Kovach</a></p>
        </div>
    </nav>
</div>
</div> <!-- /container -->

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="bower_components/jquery/dist/jquery.min.js"></script>
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="bower_components/bootstrap/dist/js/docs.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="bower_components/bootstrap/dist/js/ie10-viewport-bug-workaround.js"></script>
</body>
</html>
