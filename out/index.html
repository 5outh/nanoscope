<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><p><img src="NanoscopeLogo.png" width="400px"></img></p>
<h2>A Lens Library for Javascript</h2><h3>What is a Lens?</h3><p>A <code>Lens</code> is a construct that allow you to peer into data structures and modify their contents. At base level, a <code>Lens</code>
consists of a getter and a mapping function over a specific sub-part of your data. <code>Lens</code>es allow you to modify data
in interesting ways with minimal code, and <code>nanoscope</code> contains many useful <code>Lens</code>es that you can plug into your existing
code and use, that provide things like:</p>
<ul>
<li>Safe traversal of deeply nested data structures</li>
<li>Easy access and modification of single array elements</li>
<li>Access and modification of complete array slices, including modifications of size</li>
<li>A wrapper for safe access of data through any <code>Lens</code></li>
</ul>
<h3>The <code>Lens</code> Interface</h3><p><code>Lens</code>es support the following operations:</p>
<ul>
<li><code>get</code></li>
<li><code>set</code></li>
<li><code>over</code></li>
<li><code>view</code></li>
<li><code>blur</code></li>
<li><code>compose</code></li>
</ul>
<p>Assuming <code>headLens</code> is a <code>Lens</code> that focuses on the first element of an array, they can be used like this:</p>
<pre class="prettyprint source lang-js"><code>headLens.get([1, 2, 3]); // 1
// or
headLens.view([1, 2, 3]).get(); // 1

headLens.set([1, 2, 3], 99); // [99, 2, 3]
// or
headLens.view([1, 2, 3]).set(99); // [99, 2, 3]

headLens.over([1, 2, 3], function (elem) { return elem * 10; }); // [10, 2, 3]
// or
headLens.view([1, 2, 3]).over(function (elem) { return elem * 10; }); // [10, 2, 3]</code></pre><h3>Making your own <code>Lens</code>es</h3><p>Consider a <code>Lens</code> that views an array and focuses on its first element.
The <code>get</code> function for this <code>Lens</code> might look like this:</p>
<pre class="prettyprint source lang-js"><code>var get = function (arr) {
    return arr[0];
};</code></pre><p>...and <code>over</code> might be defined like so:</p>
<pre class="prettyprint source lang-js"><code>var over = function (arr, func) {
    var newArr = _.cloneDeep(arr);
    newArr[0] = func(newArr[0]);
    return newArr;
};</code></pre><p>There are a couple of things to note here:</p>
<ol>
<li>We use <code>_.cloneDeep</code> from <code>lodash</code> (or <code>underscore</code>) to clone the object, because <code>Lens</code>es should provide immutable
access to data.</li>
<li><code>func</code> is a function that operates on the focus of the <code>Lens</code>, which in this case is <code>arr[0]</code>.</li>
<li>We return the full, modified structure at the end.</li>
</ol>
<p>We can construct a <code>Lens</code> from these bindings like so:</p>
<pre class="prettyprint source lang-js"><code>var nanoscope = require('nanoscope'),
    headLens = new nanoscope.Lens(get, over);</code></pre><h2>TODO</h2><ul>
<li>Documentation (incl. lens laws)!</li>
<li><s>Unsafe <code>PathLens</code></s></li>
<li><s>Use actual inheritance instead of making up my own</s></li>
<li><s>Change 'options' to 'flags' and put flags in own sub-property instead of
top-level (i.e. <code>_flags: { _index: 0}</code> instead of just <code>_index: 0</code>)</s></li>
<li><s>Identity Lens</s></li>
<li><s>MultiLenses (View multiple things at once return them all)</s></li>
<li><s>SliceLenses (View index ranges of arrays)</s></li>
<li><s>Lens derivation from objects (<code>PathLens</code>es) and arrays (<code>IndexedLens</code>es)</s></li>
</ul></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Compose.html">Compose</a></li><li><a href="Getter.html">Getter</a></li><li><a href="IndexedLens.html">IndexedLens</a></li><li><a href="IndexedLens.Unsafe.html">Unsafe</a></li><li><a href="Lens.html">Lens</a></li><li><a href="MultiLens.html">MultiLens</a></li><li><a href="Optional.html">Optional</a></li><li><a href="PathLens.html">PathLens</a></li><li><a href="PathLens.Unsafe.html">Unsafe</a></li><li><a href="Setter.html">Setter</a></li><li><a href="SliceLens.html">SliceLens</a></li></ul><h3>Global</h3><ul><li><a href="global.html#get">get</a></li><li><a href="global.html#IdLens">IdLens</a></li><li><a href="global.html#over">over</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha11</a> on Thu Dec 11 2014 18:35:06 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>